#textdomain wesnoth-loti
[unit_type]
    id=Duelist Wizard
    name= _ "Duelist Wizard"
    race=human
    gender=male,female
    image="units/humans/duelist-wizard.png"
    profile="portraits/humans/mage-silver.png"
    hitpoints=57
    movement_type=smallfoot
    movement=6
    experience=150
    {QUANTITY experience 110 130 150}
    level=4
    alignment=neutral
    advances_to=null
    cost=75
    usage=mixed fighter
    description= _ "Duelist Wizards are a rare group of mages, who instead of studying magic deeper and deeper decided to start using it to defeat other mages. The main motivation of this was of course the desire to get higher in ranks among other magi, who usually underestimate them because of their weaker knowledge of magical theories. Their philosophy is not based on the seek of knowledge, but on the desire to be stronger than other magi."+{SPECIAL_NOTES}+_"SPECIAL_NOTE^ Duelist Wizards are well-attuned to their magical natures and are highly resistant to non-physical damage."+{SPECIAL_NOTES_MAGICAL}+{SPECIAL_NOTES_TELEPORT}
    die_sound={SOUND_LIST:HUMAN_DIE}
    [portrait]
        size=400
        side="left"
        mirror="false"
        image="portraits/humans/mage-silver.png"
    [/portrait]
    [portrait]
        size=400
        side="right"
        mirror="true"
        image="portraits/humans/mage-silver.png"
    [/portrait]
    [resistance]
        fire=40
        cold=40
        arcane=40
    [/resistance]
    [abilities]
        {ABILITY_TELEPORT}
    [/abilities]
    [defend]
        start_time=-175
        [frame]
            duration=25
            image="units/humans/duelist-wizard.png"
            halo=halo/elven/elven-shield-halo-20pct.png
        [/frame]
        [frame]
            duration=25
            image="units/humans/duelist-wizard.png"
            halo=halo/elven/elven-shield-halo-40pct.png
        [/frame]
        [frame]
            duration=50
            image="units/humans/duelist-wizard-attack-magic-1.png"
            halo=halo/elven/elven-shield-halo-60pct.png
        [/frame]
        [frame]
            duration=50
            image=units/humans/duelist-wizard-attack-magic-1.png
            halo=halo/elven/elven-shield-halo-80pct.png
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=100
                image=units/humans/duelist-wizard-attack-magic-2.png
                sound={SOUND_LIST:HUMAN_HIT}
                halo=halo/elven/elven-shield-halo-100pct.png
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=100
                image=units/humans/duelist-wizard-attack-magic-2.png
                halo=halo/elven/elven-shield-halo-100pct.png
            [/frame]
        [/else]
        [frame]
            duration=50
            image=units/humans/duelist-wizard-attack-magic-2.png
            halo=halo/elven/elven-shield-halo-80pct.png
        [/frame]
        [frame]
            duration=25
            image=units/humans/duelist-wizard-attack-magic-1.png
            halo=halo/elven/elven-shield-halo-60pct.png
        [/frame]
        [frame]
            duration=25
            image=units/humans/duelist-wizard-attack-magic-1.png
            halo=halo/elven/elven-shield-halo-40pct.png
        [/frame]
        [frame]
            duration=25
            image="units/humans/duelist-wizard.png"
            halo=halo/elven/elven-shield-halo-20pct.png
        [/frame]
    [/defend]
    [attack]
        name=staff
        description=_"staff"
        icon=attacks/staff-magic.png
        type=impact
        range=melee
        damage=6
        number=3
    [/attack]
    [attack]
        name=missile
        description=_"missile"
        icon=attacks/magic-missile.png
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        damage=10
        number=4
    [/attack]
    [attack]
        name=fireball
        description=_"fireball"
        type=fire
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_EXPLOSIVE}
        [/specials]
        damage=27
        number=1
    [/attack]
    [attack]
        name=chill tempest
        description=_"chill tempest"
        type=cold
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_SLOW}
        [/specials]
        range=ranged
        damage=13
        number=2
        icon=attacks/iceball.png
    [/attack]
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]

        offset=0

        {MAGIC_MISSILE 14 -23}
        {MAGIC_MISSILE_STAFF_FLARE -750 600 14 -23}

        [frame]
            begin=-800
            end=-700
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
        [frame]
            begin=-700
            end=-350
            image="units/humans/duelist-wizard-attack-magic-2.png"
        [/frame]
        [if]
            hits=no
            [frame]
                begin=-350
                end=-100
                image="units/humans/duelist-wizard-attack-magic-2.png"
                sound=magic-missile-1-miss.ogg,magic-missile-2-miss.ogg,magic-missile-3-miss.ogg
            [/frame]
        [/if]
        [else]
            hits=yes
            [frame]
                begin=-350
                end=-100
                image="units/humans/duelist-wizard-attack-magic-2.png"
                sound=magic-missile-1.ogg,magic-missile-2.ogg,magic-missile-3.ogg
            [/frame]
        [/else]
        [frame]
            begin=-100
            end=100
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fireball
        [/filter_attack]

        {MISSILE_FRAME_FIREBALL}

        [frame]
            begin=-800
            end=-700
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
        [frame]
            begin=-700
            end=-350
            image="units/humans/duelist-wizard-attack-magic-2.png"
        [/frame]
        [frame]
            begin=-350
            end=-100
            image="units/humans/duelist-wizard-attack-magic-2.png"
            sound=fire.wav
        [/frame]
        [frame]
            begin=-100
            end=100
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=chill tempest
        [/filter_attack]

        {MISSILE_FRAME_ICE}

        [frame]
            begin=-800
            end=-700
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
        [frame]
            begin=-700
            end=-350
            image="units/humans/duelist-wizard-attack-magic-2.png"
        [/frame]
        [frame]
            begin=-350
            end=-100
            image="units/humans/duelist-wizard-attack-magic-2.png"
        [/frame]
        [frame]
            begin=-100
            end=100
            image="units/humans/duelist-wizard-attack-magic-1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=staff
        [/filter_attack]
        [frame]
            begin=-250
            end=-200
            image="units/humans/duelist-wizard.png"
        [/frame]
        [frame]
            begin=-200
            end=-100
            image="units/humans/duelist-wizard-attack-staff-1.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=100
                image="units/humans/duelist-wizard-attack-staff-2.png"
                sound=staff.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=100
                image="units/humans/duelist-wizard-attack-staff-2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=100
            end=175
            image="units/humans/duelist-wizard-attack-staff-1.png"
        [/frame]
        [frame]
            begin=175
            end=250
            image="units/humans/duelist-wizard.png"
        [/frame]
    [/attack_anim]
    {PRE_TELEPORT_ANIM}
    {POST_TELEPORT_ANIM}
    [female]
        name= _ "female^Duelist Wizard"
        gender=female
        image="units/humans/duelist-wizard+female.png"
        profile="portraits/humans/mage-silver+female.png"
        die_sound={SOUND_LIST:HUMAN_FEMALE_DIE}
        [defend]
            [frame]
                image="units/humans/duelist-wizard+female.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [if]
                hits=hit
                [frame]
                    image="units/humans/duelist-wizard+female-attack-magic-2.png"
                    sound={SOUND_LIST:HUMAN_FEMALE_HIT}
                [/frame]
            [/if]
            [else]
                hits=miss,kill
                [frame]
                    image="units/humans/duelist-wizard+female-attack-magic-2.png"
                [/frame]
            [/else]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female.png"
            [/frame]
        [/defend]
        [portrait]
            size=400
            side="left"
            mirror="false"
            image="portraits/humans/mage-silver+female.png"
        [/portrait]
        [portrait]
            size=400
            side="right"
            mirror="true"
            image=" "
        [/portrait]
        [attack_anim]
            [filter_attack]
                name=missile
            [/filter_attack]
            offset=0
            {MAGIC_MISSILE 14 -23}
            {MAGIC_MISSILE_STAFF_FLARE -750 600 14 -23}
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
            [/frame]
            [if]
                [frame]
                    image="units/humans/duelist-wizard+female-attack-magic-2.png"
                [/frame]
            [/if]
            [else]
                [frame]
                    image="units/humans/duelist-wizard+female-attack-magic-2.png"
                [/frame]
            [/else]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=fireball
            [/filter_attack]

            {MISSILE_FRAME_FIREBALL}

            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
                sound=fire.wav
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=chill tempest
            [/filter_attack]

            {MISSILE_FRAME_ICE}

            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-2.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=staff
            [/filter_attack]
            [frame]
                image="units/humans/duelist-wizard+female.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female-attack-staff-1.png"
            [/frame]
            [if]
                [frame]
                    image="units/humans/duelist-wizard+female-attack-staff-2.png"
                [/frame]
            [/if]
            [else]
                [frame]
                    image="units/humans/duelist-wizard+female-attack-staff-2.png"
                [/frame]
            [/else]
            [frame]
                image="units/humans/duelist-wizard+female-attack-magic-1.png"
            [/frame]
            [frame]
                image="units/humans/duelist-wizard+female.png"
            [/frame]
        [/attack_anim]
        {PRE_TELEPORT_ANIM}
        {POST_TELEPORT_ANIM}
    [/female]
    {GENERIC_AMLA units/humans/duelist-wizard.png units/humans/duelist-wizard-attack-magic-1.png units/humans/duelist-wizard-attack-staff-2.png units/humans/duelist-wizard+female.png units/humans/duelist-wizard+female-attack-magic-1.png units/humans/duelist-wizard+female-attack-staff-2.png (
        [advancement]
            max_times=1
            id=magic
            description= _ "better with magic"
            image=attacks/magic-missile.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                range=ranged
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=missile
            description= _ "better with magic missile"
            image=attacks/magic-missile.png
            strict_amla=yes
            require_amla="magic"
            [effect]
                apply_to=attack
                name=missile
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=missile2
            description= _ "faster with magic missile"
            image=attacks/magic-missile.png
            strict_amla=yes
            require_amla="magic,missile"
            [effect]
                apply_to=attack
                name=missile
                increase_attacks=1
                increase_damage=-1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=missile3
            description= _ "better with magic missile"
            image=attacks/magic-missile.png
            strict_amla=yes
            require_amla="magic,missile2"
            [effect]
                apply_to=attack
                name=missile
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=fireball
            description= _ "better with fireball"
            image=attacks/fireball.png
            strict_amla=yes
            require_amla="magic"
            [effect]
                apply_to=attack
                name=fireball
                increase_damage=3
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=chill
            description= _ "better with chill tempest"
            image=attacks/iceball.png
            strict_amla=yes
            require_amla="magic"
            [effect]
                apply_to=attack
                name=chill tempest
                increase_damage=2
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=melee
            description= _ "better with staff"
            image=attacks/staff-magic.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=staff
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=retribution
            description= _ "able to return 2 pierce damage to every attacker"
            image=attacks/curse.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_THORNS}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=retribution2
            description= _ "able to return a part of damage to the attacker"
            image=attacks/curse.png
            strict_amla=yes
            require_amla="retribution"
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_RETRIBUTION}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=absorb1
            description= _ "able to heal from enemies' attacks"
            image=attacks/dark-missile.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_ABSORB_1}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=absorb2
            description= _ "able to heal from enemies' attacks better"
            image=attacks/dark-missile.png
            strict_amla=yes
            require_amla="absorb1"
            [effect]
                apply_to=remove_ability
                [abilities]
                    {ABILITY_ABSORB_1}
                [/abilities]
            [/effect]
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_ABSORB_2}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=absorb3
            description= _ "able to heal from enemies' attacks better"
            image=attacks/dark-missile.png
            strict_amla=yes
            require_amla="absorb2,absorb1"
            [effect]
                apply_to=remove_ability
                [abilities]
                    {ABILITY_ABSORB_2}
                [/abilities]
            [/effect]
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_ABSORB_3}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=conviction
            strict_amla=yes
            description= _ "-15% to magical resistances of all adjacent enemies"
            image=attacks/curse.png
            require_amla="absorb2,retribution2"
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_CONVICTION 15}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=3
            always_display=yes
            id=movement
            description= _ "faster"
            image=icons/boots_elven.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=movement
                increase=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
    ) "Duelist Wizard"}
