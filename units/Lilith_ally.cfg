#textdomain wesnoth-loti
#define BATTLE_AXE_MISSILE NUMBER START_TIME
    missile{NUMBER}_start_time={START_TIME}
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-1.png"
        image_diagonal="projectiles/battle-axe-thrown-1.png"
        offset=0~0.25:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-2.png"
        image_diagonal="projectiles/battle-axe-thrown-2.png"
        offset=0.25~0.5:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-3.png"
        image_diagonal="projectiles/battle-axe-thrown-3.png"
        offset=0.5~0.75:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-4.png"
        image_diagonal="projectiles/battle-axe-thrown-4.png"
        offset=0.75~1:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-5.png"
        image_diagonal="projectiles/battle-axe-thrown-5.png"
        offset=1~0.75:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-6.png"
        image_diagonal="projectiles/battle-axe-thrown-6.png"
        offset=0.75~0.5:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-1.png"
        image_diagonal="projectiles/battle-axe-thrown-1.png"
        offset=0.5~0.25:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-2.png"
        image_diagonal="projectiles/battle-axe-thrown-2.png"
        offset=0.25~0:50
    [/missile{NUMBER}_frame]
#enddef
[unit_type]
    id=Lilith_ally
    name= _ "Ancient Demoness"
    gender=female
    race=demon-loti
    image="units/enemies/demons/lilith.png"
    hitpoints=85
    profile="portraits/Lilith.png~RIGHT()"
    ignore_race_traits=yes
    [movement_costs]
        unwalkable=1
    [/movement_costs]
    movement_type=demonfoot
    [resistance]
        impact=100
        blade=100
        pierce=100
        fire=70
        cold=100
        arcane=60
    [/resistance]
    [defense]	#Like elusivefoot
        deep_water=80
        shallow_water=60
        reef=50
        swamp_water=50
        flat=60
        sand=50
        forest=30
        hills=30
        mountains=30
        village=30
        castle=30
        cave=50
        frozen=50
        unwalkable=60
        impassable=0
        fungus=40
    [/defense]
    movement=6
    experience=200
    {QUANTITY experience 150 175 200}
    level=5
    alignment=liminal
    advances_to=null
    cost=150
    usage=mixed fighter
    description= _ "An ancient demoness is a creature living since time immemorial, powerful enough to survive eons. They were either born with that power, or achieved it by arcane means, collecting powerful spells and artefacts of power, or a combination of the two. In any case, their survival was more likely because of great intelligence than because of luck. They know how to get through anything alive, and because of this, all their schemes have backdoors and escape routes. If their alliance turns out to be weak, they turn their coat and join the winners or escape. If they lead an army into a battle that shows to be going to be a defeat, they betray their soldiers and flee into safety or trick the winners that they were helping them all the time. If their keep is under siege, they prepare a flight instead of a defence or a last stand."
    die_sound={SOUND_LIST:ELF_FEMALE_HIT}
    [defend]
        start_time=-280
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-3.png
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=70
                image=units/enemies/demons/lilith-defend.png
                sound={SOUND_LIST:ELF_FEMALE_HIT}
                halo=halo/lilith-axes-4.png
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=70
                image=units/enemies/demons/lilith-defend.png
                halo=halo/lilith-axes-4.png
            [/frame]
        [/else]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-8.png
        [/frame]
    [/defend]
    {DEFENSE_ANIM "units/enemies/demons/lilith-defend.png" "units/enemies/demons/lilith.png" {SOUND_LIST:ELF_FEMALE_HIT} }
    [attack]
        name=axe
        description=_"axe"
        icon=attacks/axe-deathblade.png
        type=blade
        range=melee
        damage=10
        number=4
        [specials]
            {WEAPON_SPECIAL_STRUGGLE}
        [/specials]
    [/attack]
    [attack]
        name=axe_whirlwind
        description=_"whirlwind"
        icon=attacks/battleaxe.png
        type=blade
        range=melee
        damage=9
        number=4
        [specials]
            {WEAPON_SPECIAL_WHIRLWIND}
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        defense_weight=0
    [/attack]
    [attack]
        name=hatchet
        description=_"axe throw"
        icon=attacks/hatchet.png
        type=blade
        range=ranged
        damage=10
        number=3
    [/attack]
    [attack]
        name=fireball
        description=_"fireball"
        type=fire
        range=ranged
        damage=14
        number=2
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/attack]

    [standing_anim]
        start_time=0
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/standing_anim]
    [attack_anim]
        [filter_attack]
            name=fireball
        [/filter_attack]
        {MISSILE_FRAME_FIREBALL}

        start_time=-575
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-2.png
            sound=fire.wav
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=firestorm
        [/filter_attack]
        {MISSILE_FRAME_FIRESTORM}

        start_time=-575
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-1.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-2.png
            offset=0
            sound=fire.wav
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-3.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-4.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-5.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-6.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-7.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-8.png
            offset=0
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=axe
        [/filter_attack]
        [frame]
            begin=-250
            end=-200
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            begin=-200
            end=-150
            image="units/enemies/demons/lilith-attack-1.png"
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            begin=-150
            end=-100
            image="units/enemies/demons/lilith-attack-1.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            begin=-100
            end=-50
            image="units/enemies/demons/lilith-attack-2.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            begin=-50
            end=0
            image="units/enemies/demons/lilith-attack-2.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-attack-3.png"
                sound=axe.ogg
                halo=halo/lilith-axes-6.png
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-attack-3.png"
                sound={SOUND_LIST:MISS}
                halo=halo/lilith-axes-6.png
            [/frame]
        [/else]
        [frame]
            begin=50
            end=100
            image="units/enemies/demons/lilith-attack-3.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            begin=100
            end=150
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=axe_whirlwind
        [/filter_attack]
        [frame]
            begin=-250
            end=-200
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-whirlwind-1.png
            offset=0
        [/frame]
        [frame]
            begin=-200
            end=-150
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-2.png
            offset=0
        [/frame]
        [frame]
            begin=-150
            end=-100
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-3.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=-50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-4.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=-50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-4.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=-50
            end=0
            image="units/enemies/demons/lilith-concentrate-2.png"
            halo=halo/lilith-whirlwind-5.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-6.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-6.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=50
            end=100
            image="units/enemies/demons/lilith-concentrate-2.png"
            halo=halo/lilith-whirlwind-7.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=100
                end=150
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-8.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=100
                end=150
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-8.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=150
            end=200
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-9.png
            offset=0
        [/frame]
        [frame]
            begin=200
            end=250
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-10.png
            offset=0
        [/frame]
        [frame]
            begin=250
            end=300
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-whirlwind-11.png
            offset=0
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=hatchet
        [/filter_attack]
        {BATTLE_AXE_MISSILE 1 -200}
        {BATTLE_AXE_MISSILE 2 -100}
        {BATTLE_AXE_MISSILE 3 0}
        start_time=-150
        [frame]
            duration=100
            image="units/enemies/demons/lilith-concentrate-1.png"
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-concentrate-1.png"
            offset=0
        [/frame]
    [/attack_anim]
    {GENERIC_AMLA units/enemies/demons/lilith.png units/enemies/demons/lilith-magic-1.png units/enemies/demons/lilith-magic-2.png units/enemies/demons/lilith.png units/enemies/demons/lilith-magic-1.png units/enemies/demons/lilith-magic-2.png (
        [advancement]
            max_times=1
            always_display=yes
            id=axe
            description= _ "faster at axe combat"
            image="attacks/battleaxe-undead.png"
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                range=melee
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=2
            id=axe-speed
            always_display=yes
            description= _ "faster at axe combat"
            image="attacks/battleaxe-undead.png"
            strict_amla=yes
            require_amla="axe"
            [effect]
                apply_to=attack
                range=melee
                increase_attacks=1
                increase_damage=-1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=axe-damage
            always_display=yes
            description= _ "better at axe combat"
            image="attacks/battleaxe-undead.png"
            strict_amla=yes
            require_amla="axe"
            [effect]
                apply_to=attack
                range=melee
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=axe-marksman
            always_display=yes
            description= _ "striking more precisely with axe"
            image="attacks/battleaxe-undead.png"
            strict_amla=yes
            require_amla="axe-damage"
            [effect]
                apply_to=attack
                name=axe
                [set_specials]
                    mode=append
                    {WEAPON_SPECIAL_MARKSMAN}
                [/set_specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=hatchet
            max_times=1
            always_display=yes
            description= _ "stronger with hatchet"
            image=attacks/hatchet.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=hatchet
                increase_damage=2
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=hatchet2
            max_times=1
            always_display=yes
            description= _ "faster with hatchet"
            image=attacks/hatchet.png
            strict_amla=yes
            require_amla="hatchet"
            [effect]
                apply_to=attack
                name=hatchet
                increase_attacks=1
                increase_damage=-1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=hatchet3
            max_times=10
            always_display=yes
            description= _ "stronger with hatchet"
            image=attacks/hatchet.png
            strict_amla=yes
            require_amla="hatchet2"
            [effect]
                apply_to=attack
                name=hatchet
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=hatchet-anger
            max_times=1
            always_display=yes
            description= _ "able to hurl hatchets in a long stream"
            image=attacks/hatchet.png
            strict_amla=yes
            require_amla="hatchet3"
            [effect]
                apply_to=attack
                name=hatchet
                [set_specials]
                    mode=append
                    {WEAPON_SPECIAL_ANGER}
                [/set_specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=fireball
            always_display=yes
            description= _ "better with fireball"
            image=attacks/fireball.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=fireball
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=fireball2
            always_display=yes
            description= _ "faster with fireball"
            image=attacks/fireball.png
            strict_amla=yes
            require_amla="fireball"
            [effect]
                apply_to=attack
                name=fireball
                increase_damage=-1
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=fireball3
            always_display=yes
            description= _ "better with fireball"
            image=attacks/fireball.png
            strict_amla=yes
            require_amla="fireball2"
            [effect]
                apply_to=attack
                name=fireball
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=fireball-cone
            always_display=yes
            description= _ "hitting more enemies with fireball"
            image=attacks/fireball.png
            strict_amla=yes
            require_amla="fireball3"
            [effect]
                apply_to=attack
                name=fireball
                [set_specials]
                    mode=append
                    {WEAPON_SPECIAL_CONE}
                [/set_specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            always_display=yes
            id=dodge
            description= _ "better at dodging (lowering the chance to be hit by 2%)"
            image=icons/crossed_sword_and_hammer.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=defense
                replace=false
                [defense]
                    frozen=-2
                    castle=-2
                    sand=-2
                    village=-2
                    flat=-2
                    hills=-2
                    mountains=-2
                    cave=-2
                    shallow_water=-2
                    coastal_reef=-2
                    swamp_water=-2
                    forest=-2
                    fungus=-2
                    deep_water=-2
                    unwalkable=-2
                [/defense]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=4
            always_display=yes
            id=movement
            description= _ "faster"
            image=icons/boots_elven.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=movement
                increase=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
    ) "Lilith_ally"}

#undef BATTLE_AXE_MISSILE
