#textdomain wesnoth-loti
[unit_type]
    id=Elvish Juggernaut
    name= _ "Elvish Juggernaut"
    race=elf
    image="units/elves/juggernaut.png"
    profile="portraits/elves/hero.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    hitpoints=83
    movement_type=woodland
    movement=5
    {LESS_NIMBLE_ELF}
    experience=140
    {QUANTITY experience 100 120 140}
    level=4
    alignment=neutral
    advances_to=null
    cost=68
    usage=fighter
#ifndef MULTIPLAYER
    [advancefrom]
        unit=Elvish Champion
        experience=250
    [/advancefrom]
#endif
    description= _ "Elves are known to be excellent archers, but that is only because they prefer bows as primary weapons. They can be equally good with swords, but only a few elves develop this talent. They can whirl their swords in their hands like if they were just small sticks, but with the force of a furious storm, cutting their enemies asunder."
    die_sound={SOUND_LIST:ELF_HIT}
    [portrait]
        size=400
        side="left"
        mirror="false"
        image="portraits/elves/transparent/hero.png"
    [/portrait]
    [portrait]
        size=400
        side="right"
        mirror="true"
        image="portraits/elves/transparent/hero.png"
    [/portrait]
    [attack]
        name=sword
        description=_"blade storm"
        icon=attacks/greatsword-elven.png
        type=blade
        range=melee
        damage=11
        number=5
    [/attack]
    [attack]
        name=bow
        description=_"bow"
        icon=attacks/bow-elven.png
        type=pierce
        range=ranged
        damage=8
        number=4
    [/attack]
    {DEFENSE_ANIM_RANGE "units/elves/juggernaut-defend.png" "units/elves/juggernaut.png" {SOUND_LIST:ELF_HIT} melee}
    {DEFENSE_ANIM_RANGE "units/elves/juggernaut-bow-defend.png" "units/elves/juggernaut-bow.png" {SOUND_LIST:ELF_HIT} ranged}
    [attack_anim]
        [filter_attack]
            name=bow
        [/filter_attack]
        hits=yes
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            begin=-445
            end=-380
            image="units/elves/juggernaut-bow.png"
        [/frame]
        [frame]
            begin=-380
            end=-305
            image="units/elves/juggernaut-bow-attack1.png"
            sound=bow.ogg
        [/frame]
        [frame]
            begin=-305
            end=-230
            image="units/elves/juggernaut-bow-attack2.png"
        [/frame]
        [frame]
            begin=-230
            end=-130
            image="units/elves/juggernaut-bow-attack3.png"
        [/frame]
        [frame]
            begin=-130
            end=0
            image="units/elves/juggernaut-bow-attack4.png"
        [/frame]
        [frame]
            begin=0
            end=65
            image="units/elves/juggernaut-bow.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=bow
        [/filter_attack]
        hits=no
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            begin=-445
            end=-380
            image="units/elves/juggernaut-bow.png"
        [/frame]
        [frame]
            begin=-380
            end=-305
            image="units/elves/juggernaut-bow-attack1.png"
            sound=bow-miss.ogg
        [/frame]
        [frame]
            begin=-305
            end=-230
            image="units/elves/juggernaut-bow-attack2.png"
        [/frame]
        [frame]
            begin=-230
            end=-130
            image="units/elves/juggernaut-bow-attack3.png"
        [/frame]
        [frame]
            begin=-130
            end=0
            image="units/elves/juggernaut-bow-attack4.png"
        [/frame]
        [frame]
            begin=0
            end=65
            image="units/elves/juggernaut-bow.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=sword
        [/filter_attack]
        [frame]
            begin=-300
            end=-275
            image="units/elves/juggernaut.png"
        [/frame]
        [frame]
            begin=-275
            end=-125
            image="units/elves/juggernaut-attack-1.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-125
                end=50
                image="units/elves/juggernaut-attack-2.png"
                sound={SOUND_LIST:SWORD_SWISH}
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-125
                end=50
                image="units/elves/juggernaut-attack-2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=50
            end=175
            image="units/elves/juggernaut-attack-3.png"
        [/frame]
        [frame]
            begin=175
            end=225
            image="units/elves/juggernaut-attack-4.png"
        [/frame]
        [frame]
            begin=225
            end=250
            image="units/elves/juggernaut.png"
        [/frame]
    [/attack_anim]
    {GENERIC_AMLA units/elves/juggernaut.png units/elves/juggernaut-defend.png units/elves/juggernaut-attack-4.png units/elves/juggernaut.png units/elves/juggernaut-defend.png units/elves/juggernaut-attack-4.png (
        [advancement]
            max_times=1
            always_display=yes
            id=sword
            description= _ "striking better with sword"
            image=attacks/greatsword-elven.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=sword
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=sword2
            description= _ "striking faster with sword"
            image=attacks/greatsword-elven.png
            strict_amla=yes
            require_amla="sword"
            [effect]
                apply_to=attack
                name=sword
                increase_damage=-1
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            always_display=yes
            id=sword3
            description= _ "striking better with sword"
            image=attacks/greatsword-elven.png
            strict_amla=yes
            require_amla="sword2,sword"
            [effect]
                apply_to=attack
                name=sword
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=bow
            description= _ "better with the bow"
            image="attacks/bow-elven.png"
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=bow
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=bow2
            description= _ "better with bow"
            image="attacks/bow-elven.png"
            strict_amla=yes
            require_amla="bow"
            [effect]
                apply_to=attack
                name=bow
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=bow-precise
            description= _ "shooting insanely precisely"
            image="attacks/bow-elven.png"
            strict_amla=yes
            require_amla="bow,bow2"
            [effect]
                apply_to=attack
                name=bow
                increase_damage=-1
                [set_specials]
                    mode=replace
                    {WEAPON_SPECIAL_MARKSMAN}
                [/set_specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=bow3
            description= _ "better with the bow"
            image="attacks/bow-elven.png"
            strict_amla=yes
            require_amla="bow,bow2"
            [effect]
                apply_to=attack
                name=bow
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            id=bow4
            description= _ "better with the bow"
            image="attacks/bow-elven.png"
            strict_amla=yes
            require_amla="bow,bow2,bow3"
            [effect]
                apply_to=attack
                name=bow
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=horrid
            description= _ "able to attack in a terribly scary way"
            image=attacks/wail.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=bonus_attack
                name=grim strike
                description= _ "grim strike"
                icon=attacks/wail.png
                range=melee
                damage=-20
                clone_anim=yes
                [specials]
                    {WEAPON_SPECIAL_HORRID}
                [/specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=2
            always_display=yes
            id=horrid2
            description= _ "scaring enemies with the sword attack better"
            image=attacks/wail.png
            strict_amla=yes
            require_amla="horrid"
            [effect]
                apply_to=improve_bonus_attack
                name=grim strike
                increase_damage=15
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=mayhem
            description= _ "able to maim enemies, lowering their damage until they advance"
            image=attacks/greatsword-elven.png
            strict_amla=yes
            require_amla="sword"
            [effect]
                apply_to=bonus_attack
                name=mayhem
                description= _ "mayhem"
                icon=attacks/greatsword-elven.png
                range=melee
                defense_weight=0
                damage=-20
                number=-40
                clone_anim=yes
                [specials]
                    {WEAPON_SPECIAL_MAYHEM}
                [/specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=4
            always_display=yes
            id=mayhem2
            description= _ "striking better when maiming enemies"
            image=attacks/greatsword-elven.png
            strict_amla=yes
            require_amla="mayhem"
            [effect]
                apply_to=improve_bonus_attack
                name=mayhem
                increase_damage=10
                increase_attacks=5
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=regeneration1
            max_times=1
            description= _ "regenerating 6 hitpoints per turn"
            image=icons/potion_green_medium.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_REGENERATES_OTHER 6}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=regeneration2
            max_times=1
            description= _ "regenerating 12 hitpoints per turn"
            image=icons/potion_green_medium.png
            strict_amla=yes
            require_amla="regeneration1"
            [effect]
                apply_to=remove_ability
                [abilities]
                    {ABILITY_REGENERATES_OTHER 6}
                [/abilities]
            [/effect]
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_REGENERATES_OTHER 12}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=regeneration3
            max_times=1
            description= _ "regenerating 18 hitpoints per turn"
            image=icons/potion_green_medium.png
            strict_amla=yes
            require_amla="regeneration2"
            [effect]
                apply_to=remove_ability
                [abilities]
                    {ABILITY_REGENERATES_OTHER 12}
                [/abilities]
            [/effect]
            [effect]
                apply_to=new_ability
                [abilities]
                    {ABILITY_REGENERATES_OTHER 18}
                [/abilities]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            always_display=yes
            id=dodge
            description= _ "better at blocking (lowering the chance to be hit by 2%)"
            image=icons/crossed_sword_and_hammer.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=defense
                replace=false
                [defense]
                    frozen=-2
                    castle=-2
                    sand=-2
                    village=-2
                    flat=-2
                    hills=-2
                    mountains=-2
                    cave=-2
                    shallow_water=-2
                    coastal_reef=-2
                    swamp_water=-2
                    forest=-2
                    fungus=-2
                    deep_water=-2
                    unwalkable=-2
                [/defense]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            id=armour
            max_times=5
            description= _ "better protected from physical blows (2% better resistances)"
            image=icons/armor_leather.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=resistance
                replace=false
                [resistance]
                    blade=-2
                    pierce=-2
                    impact=-2
                [/resistance]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=3
            always_display=yes
            id=movement
            description= _ "faster"
            image=icons/boots_elven.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=movement
                increase=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
    ) "Elvish Juggernaut"}
