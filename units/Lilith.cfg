#textdomain wesnoth-loti
#define BATTLE_AXE_MISSILE NUMBER START_TIME
    missile{NUMBER}_start_time={START_TIME}
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-1.png"
        image_diagonal="projectiles/battle-axe-thrown-1.png"
        offset=0~0.25:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-2.png"
        image_diagonal="projectiles/battle-axe-thrown-2.png"
        offset=0.25~0.5:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-3.png"
        image_diagonal="projectiles/battle-axe-thrown-3.png"
        offset=0.5~0.75:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-4.png"
        image_diagonal="projectiles/battle-axe-thrown-4.png"
        offset=0.75~1:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-5.png"
        image_diagonal="projectiles/battle-axe-thrown-5.png"
        offset=1~0.75:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-6.png"
        image_diagonal="projectiles/battle-axe-thrown-6.png"
        offset=0.75~0.5:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-1.png"
        image_diagonal="projectiles/battle-axe-thrown-1.png"
        offset=0.5~0.25:50
    [/missile{NUMBER}_frame]
    [missile{NUMBER}_frame]
        duration=50
        image="projectiles/battle-axe-thrown-2.png"
        image_diagonal="projectiles/battle-axe-thrown-2.png"
        offset=0.25~0:50
    [/missile{NUMBER}_frame]
#enddef
[unit_type]
    id=Lilith
    name= _ "Ancient Demon"
    gender=female
    race=demon lord-loti
    image="units/enemies/demons/lilith.png"
    hitpoints=1000
    profile="portraits/Lilith.png~RIGHT()"
    {QUANTITY hitpoints 700 850 1000}
    [movement_costs]
        unwalkable=1
    [/movement_costs]
    # halo=halo/lilith-axes-1.png:50,halo/lilith-axes-2.png:50,halo/lilith-axes-3.png:50,halo/lilith-axes-4.png:50,halo/lilith-axes-5.png:50,halo/lilith-axes-6.png:50,halo/lilith-axes-7.png:50,halo/lilith-axes-8.png:50	# Will be useful once that they fix a bug that asks for workarounds here
    [advancement]
        strict_amla=yes
        max_times=100
        id=amla_demon_lord
        image="icons/amla-default.png"
#ifndef EASY
        [effect]
            apply_to=hitpoints
            increase_total=100
            increase=200
        [/effect]
#endif
        [effect]
            apply_to=max_experience
            increase=20%
        [/effect]
        [effect]
            apply_to=attack
            increase_damage=11
            {QUANTITY increase_damage 8 9 10}
        [/effect]
    [/advancement]
    movement_type=demonfoot
    [resistance]
        impact=70
        blade=70
        pierce=70
        fire=50
        cold=80
        arcane=50
    [/resistance]
    [defense]	#Like elusivefoot
        deep_water=80
        shallow_water=60
        reef=50
        swamp_water=50
        flat=60
        sand=50
        forest=30
        hills=30
        mountains=30
        village=30
        castle=30
        cave=50
        frozen=50
        unwalkable=60
        impassable=0
        fungus=40
    [/defense]
    movement=5
    experience=600
    {QUANTITY experience 800 700 600}
    level=25
    alignment=liminal
    advances_to=null
    cost=666
    usage=mixed fighter
    description= _ "An ancient demon is a creature living since time immemorial, powerful enough to survive eons. They were either born with that power, or achieved it by arcane means, collecting powerful spells and artefacts of power, or a combination of the two. In any case, their survival was more likely because of great precaution than because of luck, so killing them might be a great challenge. Many legends tell of great heroes slaying ancient demons only to see them come back to life after some time."+{SPECIAL_NOTES}+{SPECIAL_NOTES_MAGICAL}
    die_sound={SOUND_LIST:ELF_FEMALE_HIT}
    [defend]
        start_time=-280
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-3.png
        [/frame]
        [if]
            hits=hit
            [frame]
                duration=70
                image=units/enemies/demons/lilith-defend.png
                sound={SOUND_LIST:ELF_FEMALE_HIT}
                halo=halo/lilith-axes-4.png
            [/frame]
        [/if]
        [else]
            hits=miss,kill
            [frame]
                duration=70
                image=units/enemies/demons/lilith-defend.png
                halo=halo/lilith-axes-4.png
            [/frame]
        [/else]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith-defend.png
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=70
            image=units/enemies/demons/lilith.png
            halo=halo/lilith-axes-8.png
        [/frame]
    [/defend]
    {DEFENSE_ANIM "units/enemies/demons/lilith-defend.png" "units/enemies/demons/lilith.png" {SOUND_LIST:ELF_FEMALE_HIT} }
    [attack]
        name=axe
        description=_"axe"
        icon=attacks/axe-deathblade.png
        type=blade
        range=melee
        damage=19
        {QUANTITY damage 19 25 32}
        number=5
        [specials]
            {WEAPON_SPECIAL_STRUGGLE}
        [/specials]
    [/attack]
    [attack]
        name=axe_whirlwind
        description=_"whirlwind"
        icon=attacks/battleaxe.png
        type=blade
        range=melee
        {QUANTITY damage 22 28 35}
        number=5
        [specials]
            {WEAPON_SPECIAL_WHIRLWIND}
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
        defense_weight=0
    [/attack]
    [attack]
        name=hatchet
        description=_"axe throw"
        icon=attacks/hatchet.png
        type=blade
        range=ranged
        {QUANTITY damage 8 9 10}
        number=9
    [/attack]
    [attack]
        name=fireball
        description=_"fireball"
        type=fire
        range=ranged
        {QUANTITY damage 30 35 42}
        number=3
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/attack]

    # Animations macro test: lua wesnoth.wml_actions.store_unit_type{ variable="lilith" , type="Lilith"}
    [standing_anim]
        start_time=0
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=70
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/standing_anim]
    [attack_anim]
        [filter_attack]
            name=fireball
        [/filter_attack]
        {MISSILE_FRAME_FIREBALL}

        start_time=-575
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-2.png
            sound=fire.wav
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-6.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=firestorm
        [/filter_attack]
        {MISSILE_FRAME_FIRESTORM}

        start_time=-575
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-1.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-2.png
            offset=0
            sound=fire.wav
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-3.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-4.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-5.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-2.png"
            halo=halo/lilith-axes-6.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-7.png
            offset=0
        [/frame]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-magic-1.png"
            halo=halo/lilith-axes-8.png
            offset=0
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=axe
        [/filter_attack]
        [frame]
            begin=-250
            end=-200
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-1.png
        [/frame]
        [frame]
            begin=-200
            end=-150
            image="units/enemies/demons/lilith-attack-1.png"
            halo=halo/lilith-axes-2.png
        [/frame]
        [frame]
            begin=-150
            end=-100
            image="units/enemies/demons/lilith-attack-1.png"
            halo=halo/lilith-axes-3.png
        [/frame]
        [frame]
            begin=-100
            end=-50
            image="units/enemies/demons/lilith-attack-2.png"
            halo=halo/lilith-axes-4.png
        [/frame]
        [frame]
            begin=-50
            end=0
            image="units/enemies/demons/lilith-attack-2.png"
            halo=halo/lilith-axes-5.png
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-attack-3.png"
                sound=axe.ogg
                halo=halo/lilith-axes-6.png
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-attack-3.png"
                sound={SOUND_LIST:MISS}
                halo=halo/lilith-axes-6.png
            [/frame]
        [/else]
        [frame]
            begin=50
            end=100
            image="units/enemies/demons/lilith-attack-3.png"
            halo=halo/lilith-axes-7.png
        [/frame]
        [frame]
            begin=100
            end=150
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-axes-8.png
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=axe_whirlwind
        [/filter_attack]
        [frame]
            begin=-250
            end=-200
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-whirlwind-1.png
            offset=0
        [/frame]
        [frame]
            begin=-200
            end=-150
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-2.png
            offset=0
        [/frame]
        [frame]
            begin=-150
            end=-100
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-3.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=-50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-4.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=-50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-4.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=-50
            end=0
            image="units/enemies/demons/lilith-concentrate-2.png"
            halo=halo/lilith-whirlwind-5.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-6.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=0
                end=50
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-6.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=50
            end=100
            image="units/enemies/demons/lilith-concentrate-2.png"
            halo=halo/lilith-whirlwind-7.png
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=100
                end=150
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-8.png
                offset=0
                sound=axe.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=100
                end=150
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=halo/lilith-whirlwind-8.png
                offset=0
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=150
            end=200
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-9.png
            offset=0
        [/frame]
        [frame]
            begin=200
            end=250
            image="units/enemies/demons/lilith-concentrate-1.png"
            halo=halo/lilith-whirlwind-10.png
            offset=0
        [/frame]
        [frame]
            begin=250
            end=300
            image="units/enemies/demons/lilith.png"
            halo=halo/lilith-whirlwind-11.png
            offset=0
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=hatchet
        [/filter_attack]
        {BATTLE_AXE_MISSILE 1 -200}
        {BATTLE_AXE_MISSILE 2 -100}
        {BATTLE_AXE_MISSILE 3 0}
        start_time=-150
        [frame]
            duration=100
            image="units/enemies/demons/lilith-concentrate-1.png"
            offset=0
        [/frame]
        [if]
            hits=yes
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet.wav
                offset=0
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
            [frame]
                duration=100
                image="units/enemies/demons/lilith-concentrate-2.png"
                halo=misc/blank-hex.png
                sound=hatchet-miss.wav
                offset=0
            [/frame]
        [/else]
        [frame]
            duration=100
            image="units/enemies/demons/lilith-concentrate-1.png"
            offset=0
        [/frame]
    [/attack_anim]
[/unit_type]

#undef BATTLE_AXE_MISSILE
