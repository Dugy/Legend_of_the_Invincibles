#textdomain wesnoth-loti
[unit_type]
    id=Shadowalker
    name= _ "Shadowalker"
    race=human
    gender=male,female
    image="units/humans/assassin-sword.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    profile=portraits/humans/assassin.png
    hitpoints=60
    movement_type=elusivefoot
    movement=7
    experience=150
    {QUANTITY experience 110 130 150}
    level=4
    alignment=neutral
    advances_to=null
#ifndef MULTIPLAYER
    [advancefrom]
        unit=Master at Arms
        experience=320
    [/advancefrom]
#endif
    cost=59
    usage=fighter
    description= _ "Sometimes, the most dextrous from all masters of combat become Shadowalkers, fighters whose skill with sword is unmatched. No longer requiring illumination to fight, they can fight equally well under the sun and in dark caves. If the situation is not ideal for fencing, they can shoot a poisoned bolt at their enemy or surprise him with an unexpected spell."+{SPECIAL_NOTES}+{SPECIAL_NOTES_BACKSTAB}+{SPECIAL_NOTES_POISON}+{SPECIAL_NOTES_SKIRMISHER}
    die_sound={SOUND_LIST:HUMAN_DIE}
    {DEFENSE_ANIM "units/humans/assassin-sword-defend-2.png" "units/humans/assassin-sword-defend-1.png" {SOUND_LIST:HUMAN_HIT} }
    [portrait]
        size=400
        side="left"
        mirror="false"
        image="portraits/humans/transparent/assassin.png"
    [/portrait]
    [portrait]
        size=400
        side="right"
        mirror="true"
        image="portraits/humans/transparent/assassin.png"
    [/portrait]
    [abilities]
        {ABILITY_SKIRMISHER}
    [/abilities]
    [attack]
        name=saber
        description=_"saber"
        icon=attacks/saber-human.png
        type=blade
        range=melee
        damage=9
        number=5
    [/attack]
    [attack]
        name=crossbow
        description=_"crossbow"
        icon=attacks/crossbow-human.png
        type=pierce
        range=ranged
        damage=25
        number=1
        [specials]
            {WEAPON_SPECIAL_POISON}
        [/specials]
    [/attack]
    [attack]
        name=shadow wave
        description=_"shadow wave"
        icon=attacks/dark-missile.png
        type=arcane
        damage=5
        number=3
        range=ranged
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_BACKSTAB}
        [/specials]
    [/attack]
    [attack_anim]
        [filter_attack]
            name=saber
        [/filter_attack]
        [frame]
            begin=-225
            end=-200
            image="units/humans/assassin-sword.png"
        [/frame]
        [frame]
            begin=-200
            end=-100
            image="units/humans/assassin-sword-2-1.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=150
                image="units/humans/assassin-sword-2-2.png"
                sound=dagger-swish.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=150
                image="units/humans/assassin-sword-2-2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=150
            end=200
            image="units/humans/assassin-sword.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=saber
        [/filter_attack]
        [frame]
            begin=-225
            end=-200
            image="units/humans/assassin-sword.png"
        [/frame]
        [frame]
            begin=-200
            end=-100
            image="units/humans/assassin-sword-1.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=150
                image="units/humans/assassin-sword-2.png"
                sound=dagger-swish.wav
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=150
                image="units/humans/assassin-sword-2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=150
            end=200
            image="units/humans/assassin-sword.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=crossbow
        [/filter_attack]
        [missile_frame]
            begin=-150
            end=0
            image="projectiles/missile-n.png"
            image_diagonal="projectiles/missile-ne.png"
        [/missile_frame]
        [frame]
            begin=-300
            end=-100
            image="units/humans/assassin-sword.png"
        [/frame]
        [frame]
            begin=-200
            end=0
            image="units/humans/assassin-crossbow.png"
        [/frame]
        {SOUND:HIT_AND_MISS crossbow.ogg crossbow-miss.ogg -200}
        [frame]
            begin=0
            end=100
            image="units/humans/assassin-crossbow.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/humans/assassin-sword.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=shadow wave
        [/filter_attack]
        [missile_frame]
            begin=-100
            end=100
            image="projectiles/darkmissile-n.png"
            image_diagonal="projectiles/darkmissile-ne.png"
        [/missile_frame]

        [frame]
            begin=-300
            end=-200
            image="units/human-outlaws/assassin-throwknife1.png"
        [/frame]
        [frame]
            begin=-200
            end=-75
            image="units/human-outlaws/assassin-throwknife2.png"
            halo=halo/undead/black-magic-1.png
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-75
                end=0
                image="units/human-outlaws/assassin-throwknife2.png"
                sound=magic-dark.ogg
                halo=halo/undead/black-magic-2.png
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-75
                end=0
                image="units/human-outlaws/assassin-throwknife2.png"
                sound=magic-dark-miss.ogg
                halo=halo/undead/black-magic-2.png
            [/frame]
        [/else]
        [frame]
            begin=0
            end=75
            image="units/human-outlaws/assassin-throwknife2.png"
            halo=halo/undead/black-magic-3.png
        [/frame]
        [frame]
            begin=75
            end=150
            image="units/human-outlaws/assassin-throwknife2.png"
            halo=halo/undead/black-magic-4.png
        [/frame]

        [frame]
            begin=150
            end=200
            image="units/human-outlaws/assassin-throwknife2.png"
            halo=halo/undead/black-magic-5.png
        [/frame]
        [frame]
            begin=200
            end=300
            image="units/human-outlaws/assassin-throwknife1.png"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=whirlwind
        [/filter_attack]
        [frame]
            begin=-500
            end=-400
            image="units/humans/assassin-whirlwind-1.png"
        [/frame]
        [frame]
            begin=-400
            end=-300
            image="units/humans/assassin-whirlwind-2.png"
        [/frame]
        [frame]
            begin=-300
            end=-200
            image="units/humans/assassin-whirlwind-3.png"
        [/frame]
        [frame]
            begin=-200
            end=-100
            image="units/humans/assassin-whirlwind-4.png"
        [/frame]
        [if]
            hits=yes
            [frame]
                begin=-100
                end=0
                image="units/humans/assassin-whirlwind-1.png"
                sound={SOUND_LIST:SWORD_SWISH}
            [/frame]
        [/if]
        [else]
            hits=no
            [frame]
                begin=-100
                end=0
                image="units/humans/assassin-whirlwind-2.png"
                sound={SOUND_LIST:MISS}
            [/frame]
        [/else]
        [frame]
            begin=0
            end=100
            image="units/humans/assassin-whirlwind-3.png"
        [/frame]
        [frame]
            begin=100
            end=200
            image="units/humans/assassin-whirlwind-4.png"
        [/frame]
        [frame]
            begin=200
            end=300
            image="units/humans/assassin-whirlwind-1.png"
        [/frame]
        [frame]
            begin=300
            end=400
            image="units/humans/assassin-sword.png"
        [/frame]
    [/attack_anim]
    [female]
        #Female Shadowalker is merely a leftovers of older versions, but some of them might appear as unique units. Why should I delete the sprites or render them useless?
        name= _ "female^Shadowalker"
        gender=female
        image="units/humans/assassin+female-sword.png"
        profile="portraits/humans/assassin+female.png"
        die_sound={SOUND_LIST:HUMAN_FEMALE_DIE}
        {DEFENSE_ANIM "units/humans/assassin-sword-defend-2.png" "units/humans/assassin-sword-defend-1.png" {SOUND_LIST:HUMAN_HIT} }
        [portrait]
            size=400
            side="left"
            mirror="false"
            image="portraits/humans/transparent/assassin+female.png"
        [/portrait]
        [portrait]
            size=400
            side="right"
            mirror="true"
            image="portraits/humans/transparent/assassin+female.png"
        [/portrait]
        [attack_anim]
            [filter_attack]
                name=saber
            [/filter_attack]
            [frame]
                begin=-225
                end=-200
                image="units/humans/assassin+female-sword.png"
            [/frame]
            [frame]
                begin=-200
                end=-100
                image="units/humans/assassin-sword-2-1.png"
            [/frame]
            [if]
                hits=yes
                [frame]
                    begin=-100
                    end=150
                    image="units/humans/assassin-sword-2-2.png"
                    sound=dagger-swish.wav
                [/frame]
            [/if]
            [else]
                hits=no
                [frame]
                    begin=-100
                    end=150
                    image="units/humans/assassin-sword-2-2.png"
                    sound={SOUND_LIST:MISS}
                [/frame]
            [/else]
            [frame]
                begin=150
                end=200
                image="units/humans/assassin+female-sword.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=saber
            [/filter_attack]
            [frame]
                begin=-225
                end=-200
                image="units/assassin+female-sword.png"
            [/frame]
            [frame]
                begin=-200
                end=-100
                image="units/humans/assassin-sword-1.png"
            [/frame]
            [if]
                hits=yes
                [frame]
                    begin=-100
                    end=150
                    image="units/humans/assassin-sword-2.png"
                    sound=dagger-swish.wav
                [/frame]
            [/if]
            [else]
                hits=no
                [frame]
                    begin=-100
                    end=150
                    image="units/humans/assassin-sword-2.png"
                    sound={SOUND_LIST:MISS}
                [/frame]
            [/else]
            [frame]
                begin=150
                end=200
                image="units/humans/assassin+female-sword.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=crossbow
            [/filter_attack]
            [missile_frame]
                begin=-150
                end=0
                image="projectiles/missile-n.png"
                image_diagonal="projectiles/missile-ne.png"
            [/missile_frame]
            [frame]
                begin=-300
                end=-100
                image="units/humans/assassin+female-sword.png"
            [/frame]
            [frame]
                begin=-200
                end=0
                image="units/humans/assassin-crossbow.png"
            [/frame]
            {SOUND:HIT_AND_MISS crossbow.ogg crossbow-miss.ogg -200}
            [frame]
                begin=0
                end=100
                image="units/humans/assassin-crossbow.png"
            [/frame]
            [frame]
                begin=100
                end=200
                image="units/humans/assassin+female-sword.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=shadow wave
            [/filter_attack]
            [missile_frame]
                begin=-100
                end=100
                image="projectiles/darkmissile-n.png"
                image_diagonal="projectiles/darkmissile-ne.png"
            [/missile_frame]

            [frame]
                begin=-300
                end=-200
                image="units/human-outlaws/assassin+female-throwknife1.png"
            [/frame]
            [frame]
                begin=-200
                end=-75
                image="units/human-outlaws/assassin+female-throwknife2.png"
                halo=halo/undead/black-magic-1.png
            [/frame]
            [if]
                hits=yes
                [frame]
                    begin=-75
                    end=0
                    image="units/human-outlaws/assassin+female-throwknife2.png"
                    sound=magic-dark.ogg
                    halo=halo/undead/black-magic-2.png
                [/frame]
            [/if]
            [else]
                hits=no
                [frame]
                    begin=-75
                    end=0
                    image="units/human-outlaws/assassin+female-throwknife2.png"
                    sound=magic-dark-miss.ogg
                    halo=halo/undead/black-magic-2.png
                [/frame]
            [/else]
            [frame]
                begin=0
                end=75
                image="units/human-outlaws/assassin+female-throwknife2.png"
                halo=halo/undead/black-magic-3.png
            [/frame]
            [frame]
                begin=75
                end=150
                image="units/human-outlaws/assassin+female-throwknife2.png"
                halo=halo/undead/black-magic-4.png
            [/frame]

            [frame]
                begin=150
                end=200
                image="units/human-outlaws/assassin+female-throwknife2.png"
                halo=halo/undead/black-magic-5.png
            [/frame]
            [frame]
                begin=200
                end=300
                image="units/human-outlaws/assassin+female-throwknife1.png"
            [/frame]
        [/attack_anim]
        [attack_anim]
            [filter_attack]
                name=whirlwind
            [/filter_attack]
            [frame]
                image="units/humans/assassin-whirlwind-1.png"
            [/frame]
            [frame]
                image="units/humans/assassin-whirlwind-2.png"
            [/frame]
            [frame]
                image="units/humans/assassin-whirlwind-3.png"
            [/frame]
            [frame]
                image="units/humans/assassin-whirlwind-4.png"
            [/frame]
            [if]
                hits=yes
                [frame]
                    image="units/humans/assassin-whirlwind-1.png"
                    sound={SOUND_LIST:SWORD_SWISH}
                [/frame]
            [/if]
            [else]
                hits=no
                [frame]
                    image="units/humans/assassin-whirlwind-2.png"
                    sound={SOUND_LIST:MISS}
                [/frame]
            [/else]
            [frame]
                image="units/humans/assassin-whirlwind-3.png"
            [/frame]
            [frame]
                image="units/humans/assassin-whirlwind-4.png"
            [/frame]
            [frame]
                image="units/humans/assassin-whirlwind-1.png"
            [/frame]
            [frame]
                image="units/humans/assassin-sword.png"
            [/frame]
        [/attack_anim]
    [/female]
    {GENERIC_AMLA units/humans/assassin-sword.png units/human-outlaws/assassin-throwknife1.png units/human-outlaws/assassin-throwknife2.png units/humans/assassin+female-sword.png units/human-outlaws/assassin+female-throwknife1.png units/human-outlaws/assassin+female-throwknife2.png (
        [advancement]
            max_times=1
            id=sword
            description= _ "faster at melee combat"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                range=melee
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=crossbow
            description= _ "better with crossbow"
            image=attacks/crossbow-human.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=crossbow
                increase_damage=-9
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=magic
            description= _ "better with magic"
            image="attacks/dark-missile.png"
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=attack
                name=shadow wave
                increase_damage=1
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=block
            description= _ "better at defending"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=defense
                replace=false
                [defense]
                    frozen=-3
                    shallow_water=-3
                    reef=-3
                    flat=-3
                    castle=-3
                    village=-3
                    forest=-3
                    cave=-3
                    hills=-3
                    mountains=-3
                    fungus=-3
                    swamp_water=-3
                    sand=-3
                [/defense]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=sword2
            description= _ "better with sword"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla="sword"
            [effect]
                apply_to=attack
                range=melee
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=sword3
            description= _ "better with sword"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla="sword,sword2"
            [effect]
                apply_to=attack
                range=melee
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=magic2
            description= _ "better with magic"
            image="attacks/dark-missile.png"
            strict_amla=yes
            require_amla="magic"
            [effect]
                apply_to=attack
                name=shadow wave
                increase_attacks=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            id=block2
            description= _ "better at defending"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla="block"
            [effect]
                apply_to=defense
                replace=false
                [defense]
                    frozen=-2
                    shallow_water=-2
                    reef=-2
                    flat=-2
                    castle=-2
                    village=-2
                    forest=-2
                    cave=-2
                    hills=-2
                    mountains=-2
                    fungus=-2
                    swamp_water=-2
                    sand=-2
                [/defense]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            id=block3
            description= _ "better at defending"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla="block,block2"
            [effect]
                apply_to=defense
                replace=false
                [defense]
                    frozen=-1
                    shallow_water=-1
                    reef=-1
                    flat=-1
                    castle=-1
                    village=-1
                    forest=-1
                    cave=-1
                    hills=-1
                    mountains=-1
                    fungus=-1
                    swamp_water=-1
                    sand=-1
                [/defense]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=10
            id=sword4
            description= _ "better with sword"
            image="attacks/saber-human.png"
            strict_amla=yes
            require_amla="sword,sword2,sword3"
            [effect]
                apply_to=attack
                name=saber
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            id=crossbow2
            description= _ "better with crossbow"
            image=attacks/crossbow-human.png
            strict_amla=yes
            require_amla="crossbow"
            [effect]
                apply_to=attack
                type=pierce
                increase_damage=2
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=5
            id=magic3
            description= _ "better with magic"
            image="attacks/dark-missile.png"
            strict_amla=yes
            require_amla="magic,magic2"
            [effect]
                apply_to=attack
                type=arcane
                increase_damage=1
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=whirlwind
            description= _ "able to perform a whirlwind attack"
            image=attacks/sword-elven.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=bonus_attack
                name=whirlwind
                description= _ "whirlwind"
                icon=attacks/sword-elven.png
                range=melee
                defense_weight=0
                damage=-30
                number=-30
                [specials]
                    {WEAPON_SPECIAL_WHIRLWIND}
                    {WEAPON_SPECIAL_MAGICAL}
                [/specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=2
            always_display=yes
            id=whirlwind2
            description= _ "whirling better"
            image=attacks/sword-elven.png
            strict_amla=yes
            require_amla="whirlwind"
            [effect]
                apply_to=improve_bonus_attack
                name=whirlwind
                increase_damage=15
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=1
            always_display=yes
            id=parry
            description= _ "able to attack parrying enemy blows"
            image=attacks/saber-human.png
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=bonus_attack
                name=parry
                description= _ "parry"
                icon=attacks/saber-human.png
                range=melee
                clone_anim=yes
                defense_weight=0
                damage=-20
                number=-70
                [specials]
                    {WEAPON_SPECIAL_PARRY}
                [/specials]
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=3
            always_display=yes
            id=parry2
            description= _ "parrying better"
            image=attacks/saber-human.png
            strict_amla=yes
            require_amla="parry"
            [effect]
                apply_to=improve_bonus_attack
                name=parry
                increase_damage=10
                increase_attacks=5
            [/effect]
            {AMLA_DEFAULT_BONUSES}
        [/advancement]
        [advancement]
            max_times=4
            id=movement
            description= _ "faster"
            image=icons/boots_elven.png
            {AMLA_DEFAULT_BONUSES}
            strict_amla=yes
            require_amla=""
            [effect]
                apply_to=movement
                increase=1
            [/effect]
        [/advancement]
    ) "Shadowalker"}
